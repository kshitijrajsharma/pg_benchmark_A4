# PostgreSQL Query Benchmark Report

**Generated:** 2025-06-20T04:29:47.121182
**Generated by:** krschap
**Total Queries:** 2

## Summary

| Query | Avg Time (ms) | Median (ms) | Std Dev (ms) | Scan Type |
|-------|---------------|-------------|--------------|-----------|
| Geometry lookup by gist index - country 73 | 7308.94 | 7258.54 | 120.52 |  |
| Geometry lookup by h3 index - country 73 | 1124.97 | 1126.15 | 3.34 |  |

## Detailed Results

### 1. Geometry lookup by gist index - country 73

**Query Hash:** `969dfb28`

**SQL Query:**
```sql
WITH country_geom AS (
            SELECT geometry as geom
            FROM countries
            WHERE cid = 73
            ),
            filtered_by_geom AS (
            SELECT w.*
            FROM ways_poly w
            JOIN country_geom c ON ST_Intersects(w.geom, c.geom)
            )
            SELECT count(*)
            FROM filtered_by_geom
            WHERE tags ? 'building';
```

**Performance Metrics:**
- Average: 7308.94ms
- Median: 7258.54ms
- Min: 7231.38ms
- Max: 7519.03ms
- Standard Deviation: 120.52ms
- Total Runs: 5

**Query Plan:**
- Primary Scan Type: 
- Estimated Cost: 0
- Actual Cost: 0

### 2. Geometry lookup by h3 index - country 73

**Query Hash:** `37a44d95`

**SQL Query:**
```sql
WITH filtered_by_h3 AS (
            SELECT t.*
            FROM ways_poly t
            JOIN country_h3_flat ch ON t.h3 = ch.h3_index
            WHERE ch.country_id = 73
            )
            SELECT count(*)
            FROM filtered_by_h3
            WHERE tags ? 'building';
            
```

**Performance Metrics:**
- Average: 1124.97ms
- Median: 1126.15ms
- Min: 1119.76ms
- Max: 1128.16ms
- Standard Deviation: 3.34ms
- Total Runs: 5

**Query Plan:**
- Primary Scan Type: 
- Estimated Cost: 0
- Actual Cost: 0
